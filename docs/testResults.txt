
   PASS  Tests\Unit\Accounting\AccountTypeValidationTest
  âœ“ it allows debit to asset accounts                                    0.20s
  âœ“ it allows debit to expense accounts                                  0.02s
  âœ“ it throws exception when debiting liability account                  0.02s
  âœ“ it allows credit to liability accounts                               0.02s
  âœ“ it allows credit to revenue accounts                                 0.02s
  âœ“ it throws exception when crediting asset account                     0.02s
  âœ“ it validates account types during transaction posting                0.02s

   PASS  Tests\Unit\Accounting\BalanceSheetTest
  âœ“ it generates balance sheet with no transactions                      0.02s
  âœ“ it generates balanced balance sheet                                  0.02s
  âœ“ it includes retained earnings from income statement                  0.02s

   PASS  Tests\Unit\Accounting\ChartOfAccountTest
  âœ“ it has a code name and type                                          0.02s
  âœ“ it can scope accounts by type                                        0.02s
  âœ“ account code must be unique                                          0.02s
  âœ“ it can calculate its current balance                                 0.02s

   PASS  Tests\Unit\Accounting\DimensionReportTest
  âœ“ example                                                              0.06s

   PASS  Tests\Unit\Accounting\FinancialReportsTest
  âœ“ example                                                              0.04s

   PASS  Tests\Unit\Accounting\IncomeStatementTest
  âœ“ it generates income statement with no transactions                   0.02s
  âœ“ it generates income statement with revenue and expenses              0.02s
  âœ“ it excludes transactions outside date range                          0.02s

   PASS  Tests\Unit\Accounting\InvalidAccountTypeExceptionTest
  âœ“ it provides detailed error message                                   0.02s
  âœ“ it provides contextual information                                   0.02s
  âœ“ it allows custom message                                             0.02s

   PASS  Tests\Unit\Accounting\JournalEntryFactoryTest
  âœ“ it can create a journal entry                                        0.02s
  âœ“ it can create a draft journal entry                                  0.02s
  âœ“ it can create a posted journal entry                                 0.02s
  âœ“ it can create journal entry with specific approver                   0.02s

   PASS  Tests\Unit\Accounting\JournalEntryTest
  âœ“ it can create a journal entry                                        0.02s
  âœ“ it can post a balanced journal entry                                 0.02s
  âœ“ it prevents posting unbalanced journal entries                       0.02s

   PASS  Tests\Unit\Accounting\LedgerEntryTest
  âœ“ it belongs to a chart of account                                     0.02s
  âœ“ it has a debit or credit type                                        0.02s
  âœ“ it can be linked to a transaction via polymorphic relation           0.02s
  âœ“ it can be tagged with dimensions                                     0.02s
  âœ“ it must have a positive amount                                       0.02s

   PASS  Tests\Unit\Accounting\TrialBalanceTest
  âœ“ it generates trial balance with zero entries                         0.02s
  âœ“ it generates trial balance with balanced entries                     0.02s
  âœ“ it shows account balances in trial balance                           0.02s

   PASS  Tests\Unit\Models\Inventory\InventoryTransactionTest
  âœ“ example                                                              0.01s

   PASS  Tests\Unit\Models\Inventory\ItemTest
  âœ“ example                                                              0.01s

   PASS  Tests\Unit\Models\Inventory\StoreTest
  âœ“ example                                                              0.01s

   PASS  Tests\Unit\AccountingReportServiceTest
  âœ“ it generates a correct trial balance                                 0.02s
  âœ“ it generates a correct balance sheet                                 0.02s

   PASS  Tests\Unit\Accounting\AccountingServiceTest
  âœ“ it throws an exception for unbalanced transactions                   0.02s
  âœ“ it successfully posts a balanced transaction and creates ledger entâ€¦ 0.02s
  âœ“ it can handle complex but balanced transactions                      0.02s

   PASS  Tests\Unit\Services\InventoryServiceTest
  âœ“ it can create a store                                                0.03s
  âœ“ it can update store inventory                                        0.03s
  âœ“ it can update store inventory with min max stock                     0.03s
  âœ“ it can adjust store inventory                                        0.03s
  âœ“ it can create and finalize transaction                               0.04s
  âœ“ it can cancel transaction                                            0.03s
  âœ“ it can get store stock levels                                        0.03s
  âœ“ it can get item availability                                         0.03s
  âœ“ it prevents modifying finalized transaction                          0.03s
  âœ“ it prevents finalizing transaction with no items                     0.03s
  âœ“ it prevents cancelling finalized transaction                         0.03s
  âœ“ it calculates low stock correctly                                    0.03s
  âœ“ it calculates overstock correctly                                    0.03s

   PASS  Tests\Unit\Services\SequenceServiceTest
  âœ“ it generates sequential codes                                        0.02s
  âœ“ it handles concurrent requests safely                                0.01s

   PASS  Tests\Unit\Teams\CreateTeamTest
  âœ“ teams can be created                                                 0.04s

   PASS  Tests\Unit\Teams\DeleteTeamTest
  âœ“ teams can be deleted                                                 0.04s
  âœ“ personal teams cant be deleted                                       0.04s

   PASS  Tests\Unit\Teams\InviteTeamMemberTest
  âœ“ team members can be invited to team                                  0.06s
  âœ“ team member invitations can be cancelled                             0.06s

   PASS  Tests\Unit\Teams\LeaveTeamTest
  âœ“ users can leave teams                                                0.04s
  âœ“ team owners cant leave their own team                                0.05s

   PASS  Tests\Unit\Teams\RemoveTeamMemberTest
  âœ“ team members can be removed from teams                               0.05s
  âœ“ only team owner can remove team members                              0.05s

   PASS  Tests\Unit\Teams\UpdateTeamMemberRoleTest
  âœ“ team member roles can be updated                                     0.06s
  âœ“ only team owner can update team member roles                         0.05s

   PASS  Tests\Unit\Teams\UpdateTeamNameTest
  âœ“ team names can be updated                                            0.05s

   PASS  Tests\Unit\base\ApiTokenPermissionsTest
  âœ“ api token permissions can be updated                                 0.06s

   PASS  Tests\Unit\base\AuthenticationTest
  âœ“ login screen can be rendered                                         0.03s
  âœ“ users can authenticate using the login screen                        0.03s
  âœ“ users cannot authenticate with invalid password                      0.03s

   PASS  Tests\Unit\base\BrowserSessionsTest
  âœ“ other browser sessions can be logged out                             0.04s

   PASS  Tests\Unit\base\CreateApiTokenTest
  âœ“ api tokens can be created                                            0.05s

   PASS  Tests\Unit\base\DeleteAccountTest
  âœ“ user accounts can be deleted                                         0.04s
  âœ“ correct password must be provided before account can be deleted      0.04s

   PASS  Tests\Unit\base\DeleteApiTokenTest
  âœ“ api tokens can be deleted                                            0.05s

   WARN  Tests\Unit\base\EmailVerificationTest
  - email verification screen can be rendered â†’ Email verification notâ€¦  0.02s
  - email can be verified â†’ Email verification not enabled.              0.01s
  - email can not verified with invalid hash â†’ Email verification not eâ€¦ 0.01s

   PASS  Tests\Unit\base\PasswordConfirmationTest
  âœ“ confirm password screen can be rendered                              0.04s
  âœ“ password can be confirmed                                            0.03s
  âœ“ password is not confirmed with invalid password                      0.23s

   PASS  Tests\Unit\base\PasswordResetTest
  âœ“ reset password link screen can be rendered                           0.03s
  âœ“ reset password link can be requested                                 0.23s
  âœ“ reset password screen can be rendered                                0.26s
  âœ“ password can be reset with valid token                               0.27s

   PASS  Tests\Unit\base\ProfileInformationTest
  âœ“ current profile information is available                             0.05s
  âœ“ profile information can be updated                                   0.04s

   WARN  Tests\Unit\base\RegistrationTest
  âœ“ registration screen can be rendered                                  0.03s
  - registration screen cannot be rendered if support is disabled â†’ Regâ€¦ 0.01s
  âœ“ new users can register                                               0.03s

   PASS  Tests\Unit\base\TwoFactorAuthenticationSettingsTest
  âœ“ two factor authentication can be enabled                             0.08s
  âœ“ recovery codes can be regenerated                                    0.12s
  âœ“ two factor authentication can be disabled                            0.07s

   PASS  Tests\Unit\base\UpdatePasswordTest
  âœ“ password can be updated                                              0.05s
  âœ“ current password must be correct                                     0.05s
  âœ“ new passwords must match                                             0.06s

   PASS  Tests\Feature\Api\Accounting\ChartOfAccountsApiTest
  âœ“ it can list chart of accounts                                        0.04s
  âœ“ it can create a chart of account                                     0.04s
  âœ“ it validates account creation                                        0.04s
  âœ“ it can show a specific account                                       0.04s
  âœ“ it returns 404 for nonexistent account                               0.05s

   PASS  Tests\Feature\Api\Accounting\FinancialReportsApiTest
  âœ“ it can generate trial balance                                        0.05s
  âœ“ it can generate balance sheet                                        0.05s
  âœ“ it can generate income statement                                     0.05s
  âœ“ it validates income statement date range                             0.04s
  âœ“ it rejects end date before start date                                0.05s

   FAIL  Tests\Feature\Api\Accounting\JournalEntriesApiTest
  â¨¯ it can create a journal entry                                        0.05s
  âœ“ it validates journal entry balances                                  0.04s
  âœ“ it can post a journal entry                                          0.04s

   PASS  Tests\Feature\OrganizationApiTest
  âœ“ can create organization                                              0.04s
  âœ“ debug factory output                                                 0.02s
  âœ“ verify organization factory works                                    0.02s
  âœ“ can list organizations                                               0.05s
  âœ“ can show organization                                                0.04s
  âœ“ can update organization                                              0.04s
  âœ“ can delete organization                                              0.04s
  âœ“ guests cannot access organizations                                   0.05s
  âœ“ name is required for creation                                        0.04s
  âœ“ name must be unique                                                  0.05s
  âœ“ user can view their organizations                                    0.05s
  âœ“ organization admin can list members                                  0.04s
  âœ“ admin can invite new members                                         0.04s
  âœ“ cannot invite existing member                                        0.04s
  âœ“ non admin cannot invite members                                      0.04s

   FAIL  Tests\Feature\OrganizationUnitApiTest
  âœ“ can create organization unit                                         0.05s
  âœ“ can create nested unit                                               0.05s
  âœ“ can get unit hierarchy                                               0.04s
  âœ“ can assign user to unit                                              0.05s
  âœ“ can list users by organization unit                                  0.05s
  âœ“ cannot create organization unit as non admin                         0.04s
  â¨¯ cannot assign user as non admin                                      0.04s
  âœ“ cannot create unit with invalid data                                 0.04s
  âœ“ cannot assign non existent user to unit                              0.05s
  âœ“ cannot assign user not in organization                               0.05s
  âœ“ cannot get hierarchy for non existent unit                           0.04s
  âœ“ can get hierarchy for unit with no children                          0.04s

   WARN  Tests\Feature\Portal\AttendanceSyncTest
  ! can view attendance dashboard â†’ This test did not perform any asserâ€¦ 0.02s
  ! can filter attendance by date range â†’ This test did not perform anyâ€¦ 0.02s
  ! can identify attendance exceptions â†’ This test did not perform anyâ€¦  0.01s
  ! can regularize missed punch â†’ This test did not perform any assertiâ€¦ 0.01s
  ! attendance data integrates with payroll â†’ This test did not performâ€¦ 0.02s

   FAIL  Tests\Feature\DashboardTest
  âœ“ it redirects to setup for users without organization                 0.07s
  âœ“ it shows dashboard for users with organization                       0.07s
  âœ“ it shows dashboard sections                                          0.07s
  âœ“ it shows store inventory summary                                     0.07s
  â¨¯ it shows low stock alerts                                            0.39s
  âœ“ it shows recent transactions                                         0.11s
  â¨¯ it shows quick action buttons                                        0.07s
  âœ“ it shows stats cards                                                 0.07s
  âœ“ it shows empty state for no stores                                   0.07s
  âœ“ it shows all stocked message when no low stock                       0.08s
  âœ“ it shows store with item counts                                      0.07s

   PASS  Tests\Feature\ExampleTest
  âœ“ it returns a successful response                                     0.05s

   FAIL  Tests\Feature\Portal\EmployeeManagementTest
  âœ“ can view employee list                                               0.07s
  âœ“ can view employee details                                            0.08s
  âœ“ can create employee                                                  0.06s
  âœ“ can update employee details                                          0.06s
  âœ“ can update biometric id                                              0.05s
  âœ“ employee belongs to organization unit                                0.07s
  â¨¯ employee creation requires authentication                            0.06s
  â¨¯ non hr users cannot create employees                                 0.06s
  âœ“ can search employees                                                 0.06s
  âœ“ can filter employees by department                                   0.07s
  âœ“ employee attendance integration                                      0.08s
  âœ“ employee leave balance calculation                                   0.07s
  âœ“ can create employee without user account                             0.05s
  âœ“ can grant system access to employee                                  0.06s

   FAIL  Tests\Feature\HrmDashboardControllerTest
  âœ“ it displays hrm dashboard to authenticated users                     0.06s
  âœ“ it redirects guests to login page                                    0.04s
  âœ“ it passes hrm dashboard data to view                                 0.05s
  âœ“ it includes employee summary data                                    0.05s
  âœ“ it includes attendance overview data                                 0.06s
  âœ“ it includes leave management data                                    0.05s
  âœ“ it includes performance kpis data                                    0.05s
  âœ“ it includes recent activities data                                   0.05s
  âœ“ it includes upcoming events data                                     0.05s
  âœ“ it includes organization unit stats data                             0.05s
  âœ“ it includes training development data                                0.06s
  â¨¯ dashboard view contains expected hrm elements                        0.05s
  âœ“ it provides realistic hrm data values                                0.05s
  âœ“ recent activities are sorted by timestamp                            0.05s
  âœ“ upcoming events are sorted by date                                   0.05s
  âœ“ organization unit stats have consistent structure                    0.05s
  âœ“ it handles users with hrm permissions                                0.06s
  âœ“ it shows organization specific data                                  0.05s

   PASS  Tests\Feature\Inventory\InventoryControllerTest
  âœ“ it displays inventory dashboard                                      0.08s
  âœ“ it shows correct statistics on dashboard                             0.07s
  âœ“ it requires authentication for inventory dashboard                   0.06s
  âœ“ it includes todays transactions in stats                             0.07s
  âœ“ it handles empty inventory gracefully                                0.07s

   PASS  Tests\Feature\Inventory\InventoryItemControllerTest
  âœ“ it displays items index                                              0.08s
  âœ“ it filters items by search term                                      0.08s
  âœ“ it shows item creation form                                          0.08s
  âœ“ it stores new item with valid data                                   0.06s
  âœ“ it validates required fields when storing item                       0.06s

   PASS  Tests\Feature\Inventory\InventoryReportControllerTest
  âœ“ it displays reports dashboard                                        0.08s
  âœ“ it displays low stock report                                         0.08s
  âœ“ it filters low stock by store                                        0.10s
  âœ“ it displays stock movement report                                    0.08s
  âœ“ it filters movement report by date range                             0.09s
  âœ“ it displays stock levels report                                      0.08s
  âœ“ it filters stock levels by category                                  0.08s
  âœ“ it handles empty reports gracefully                                  0.10s

   PASS  Tests\Feature\InventoryScopeTest
  âœ“ it finds low stock items using scope                                 0.05s
  âœ“ it finds low stock items in specific store                           0.04s
  âœ“ it finds out of stock items using scope                              0.04s
  âœ“ store can retrieve its low stock items                               0.04s
  âœ“ store can retrieve its out of stock items                            0.04s
  âœ“ it calculates stock statistics for store                             0.04s
  âœ“ it properly categorizes stock levels                                 0.05s

   PASS  Tests\Feature\Inventory\InventoryStockControllerTest
  âœ“ it shows stock adjustment form                                       0.06s
  âœ“ it processes stock adjustment                                        0.07s
  âœ“ it shows stock count form                                            0.06s
  âœ“ it processes stock count                                             0.08s
  âœ“ it shows stock transfer form                                         0.06s
  âœ“ it processes stock transfer                                          0.08s

   PASS  Tests\Feature\Inventory\InventoryStoreControllerTest
  âœ“ it displays stores index                                             0.08s
  âœ“ it filters stores by search term                                     0.08s
  âœ“ it shows store creation form                                         0.07s
  âœ“ it stores new store with valid data                                  0.06s
  âœ“ it shows store detail page                                           0.08s
  âœ“ it updates store with valid data                                     0.07s
  âœ“ it deletes store without transactions or items                       0.06s
  âœ“ it prevents deletion of store with transactions                      0.06s

   PASS  Tests\Feature\Inventory\InventoryTenancyTest
  âœ“ it scopes items by organization                                      0.05s
  âœ“ it scopes stores by organization                                     0.05s
  âœ“ user cannot access other organizations inventory data                0.10s
  âœ“ it enforces organization isolation in controllers                    0.10s

   PASS  Tests\Feature\Inventory\InventoryTransactionControllerTest
  âœ“ it displays transactions index                                       0.08s
  âœ“ it shows transaction creation form                                   0.07s
  âœ“ it stores new transaction with items                                 0.06s

   FAIL  Tests\Feature\Inventory\ItemTest
  âœ“ it can create an item                                                0.06s
  âœ“ it can search items by name or sku                                   0.07s
  âœ“ it can filter items by category                                      0.07s
  âœ“ it can sort items                                                    0.07s
  âœ“ it returns only items from users organization                        0.07s
  âœ“ it can get item availability across stores                           0.07s
  âœ“ it shows low stock status correctly                                  0.07s
  â¨¯ it returns 403 for unauthorized access                               0.07s
  âœ“ it handles item with no stores                                       0.07s

   FAIL  Tests\Feature\Inventory\PermissionTest
  âœ“ inventory admin has all permissions                                  0.08s
  âœ“ store manager cannot delete stores                                   0.06s
  âœ“ inventory clerk cannot finalize transactions                         0.08s
  âœ“ auditor can only view inventory                                      0.07s
  â¨¯ user cannot access other organization inventory                      0.07s

   PASS  Tests\Feature\Inventory\StoreTest
  âœ“ it can create a store                                                0.07s
  âœ“ it can add items to store                                            0.07s
  âœ“ it can retrieve store with items                                     0.07s
  âœ“ it can update item quantity in store                                 0.06s
  âœ“ it can list all stores for organization                              0.07s
  âœ“ it can use organization scope                                        0.05s
  âœ“ it can use search scope                                              0.04s
  âœ“ it can use active scope                                              0.05s

   PASS  Tests\Feature\Inventory\TransactionTest
  âœ“ it can create draft transaction without items                        0.07s
  âœ“ it can create draft transaction with items                           0.07s
  âœ“ it can add items to empty draft transaction                          0.07s
  âœ“ it can add items to transaction with existing items                  0.08s
  âœ“ it can finalize transaction created without items after adding itemâ€¦ 0.08s
  âœ“ it can finalize transaction created with items                       0.08s
  âœ“ it cannot finalize empty transaction                                 0.07s
  âœ“ it cannot add items to finalized transaction                         0.08s
  âœ“ it can list transactions by status                                   0.10s
  âœ“ it can calculate transaction totals                                  0.08s
  âœ“ it cannot modify finalized transaction                               0.08s
  âœ“ it can calculate totals for empty transaction                        0.07s

   PASS  Tests\Feature\Livewire\Accounting\ChartOfAccountsTest
  âœ“ chart of accounts page renders                                       0.06s
  âœ“ it displays a list of accounts                                       0.05s
  âœ“ it displays a list of chart of accounts                              0.05s
  âœ“ it can create a new chart of account record                          0.06s
  âœ“ it can update an existing chart of account record                    0.06s

   FAIL  Tests\Feature\Livewire\Accounting\JournalEntriesTest
  âœ“ it renders successfully                                              0.06s
  â¨¯ it creates a journal entry                                           0.08s
  âœ“ a journal entry requires balanced debits and credits                 0.08s

   PASS  Tests\Feature\Livewire\Organization\MemberManagerTest
  âœ“ it can display a list of organization members                        0.05s
  âœ“ it can search for members by name or email                           0.05s

   PASS  Tests\Feature\Livewire\Organization\OrganizationFormTest
  âœ“ it shows create form                                                 0.06s
  âœ“ it shows edit form                                                   0.05s
  âœ“ it creates new organization                                          0.05s
  âœ“ it updates existing organization                                     0.06s
  âœ“ it validates required fields                                         0.05s
  âœ“ it validates unique name                                             0.05s
  âœ“ it closes modal                                                      0.05s

   FAIL  Tests\Feature\Livewire\Organization\OrganizationListTest
  âœ“ it shows organizations list                                          0.06s
  âœ“ it searches organizations by name                                    0.05s
  âœ“ it sorts organizations by name ascending                             0.06s
  âœ“ it sorts organizations by name descending                            0.06s
  âœ“ it sorts organizations by status                                     0.05s
  âœ“ it paginates organizations                                           0.07s
  â¨¯ it shows empty state when no organizations                           0.05s

   FAIL  Tests\Feature\Livewire\Organization\OrganizationTreeTest
  âœ“ it can display the organization tree                                 0.06s
  âœ“ an organization unit can be dragged and dropped to another parent    0.05s
  âœ“ an organizational unit cannot be dropped onto itself                 0.05s
  âœ“ an organizational unit can be dropped as a root node                 0.05s
  âœ“ a parent cannot be dropped onto one of its descendants               0.05s
  âœ“ a sibling can be dropped under another sibling                       0.05s
  â¨¯ an empty tree renders correctly                                      0.02s
  âœ“ it can handle a large number of units without crashing               0.10s
  â¨¯ a dropped unit that does not exist does not cause an error           0.05s

   FAIL  UserPlacementTest
  âœ“ it can assign a user to a unit                                       0.06s
  â¨¯ it can unassign a user by dropping them onto the root                0.05s

   PASS  Tests\Feature\MultiStepSetupWizardTest
  âœ“ it shows organization step for new users                             0.08s
  âœ“ it can store organization and proceed to store step                  0.06s
  âœ“ it shows store setup step after organization                         0.07s
  âœ“ it can create first store and proceed to accounting                  0.06s
  âœ“ it shows accounting setup step after store                           0.07s

   FAIL  Tests\Feature\Organization\OrganizationDashboardTest
  â¨¯ authenticated user can access organization dashboard                 0.22s
  â¨¯ dashboard displays correct organization metrics                      0.20s
  â¨¯ user can view organization structure                                 0.02s
  â¨¯ dashboard includes department distribution data                      0.21s
  â¨¯ analytics page displays trend data                                   0.02s

   FAIL  Tests\Feature\Portal\OrganizationUserIntegrationTest
  â¨¯ organization user roles are properly cast                            0.03s
  âœ“ employee can access employee portal with employee role               0.07s
  â¨¯ manager can access both employee and manager portals
  â¨¯ user without organization access denied                              0.05s
  â¨¯ employee cannot access manager portal                                0.07s
  â¨¯ has role method works correctly                                      0.03s
  â¨¯ has any role method works correctly                                  0.03s

   PASS  OrganizationUserPivotTest
  âœ“ it can get all roles with the new pivot model                        0.03s

   WARN  Tests\Feature\Portal\PayrollProcessingTest
  ! can calculate payroll with attendance â†’ This test did not perform aâ€¦ 0.02s
  ! payroll includes correct deductions â†’ This test did not perform anyâ€¦ 0.02s
  ! can generate accounting journal entry â†’ This test did not perform aâ€¦ 0.02s
  ! payslip generation â†’ This test did not perform any assertions        0.02s
  ! payroll uses correct chart of accounts â†’ This test did not performâ€¦  0.02s

   PASS  Tests\Feature\Portal\CompletePortalTest
  âœ“ employee can access all portal features                              0.10s
  âœ“ employee can clock in and out                                        0.06s
  âœ“ employee can apply for leave                                         0.07s
  âœ“ manager can access manager portal                                    0.09s
  âœ“ employee can view payslip details                                    0.07s
  âœ“ employee cannot view other employee payslips                         0.06s
  âœ“ attendance records show correct summary                              0.07s

   FAIL  Tests\Feature\Portal\EmployeePortalTest
  âœ“ employee can access their portal dashboard                           0.08s
  âœ“ employee can view attendance page                                    0.07s
  âœ“ employee can filter attendance by month                              0.06s
  âœ“ employee can apply for leave                                         0.06s
  âœ“ employee can view leave page                                         0.07s
  âœ“ employee can view payslips page                                      0.07s
  âœ“ employee can view leave application form                             0.06s
  â¨¯ employee can clock in and out                                        0.05s

   FAIL  Tests\Feature\Portal\ManagerPortalTest
  âœ“ manager can access their portal dashboard                            0.07s
  âœ“ manager can view team attendance page                                0.07s
  â¨¯ manager can approve leave requests                                   0.06s
  âœ“ manager can filter team attendance by date                           0.07s
  â¨¯ manager can generate team reports                                    0.03s

   PASS  Tests\Feature\SetupChartOfAccountsTest
  âœ“ it creates default chart of accounts                                 0.06s
  âœ“ it skips account creation if not requested                           0.05s
  âœ“ it creates organization unit for accounting department               0.07s

   PASS  Tests\Feature\SetupStoreTest
  âœ“ it creates first store for organization                              0.06s
  âœ“ it validates store creation                                          0.06s
  âœ“ it auto generates store code if not provided                         0.06s

   PASS  Tests\Feature\SetupWizardTest
  âœ“ it shows setup wizard for new users                                  0.08s
  âœ“ it redirects to dashboard if organization exists                     0.07s
  âœ“ it can create organization through wizard                            0.10s
  âœ“ it validates organization creation                                   0.06s
  âœ“ it assigns admin role to creator                                     0.06s

   PASS  Tests\Feature\TenancyFeatureTest
  âœ“ queries are automatically scoped to the authenticated users organizâ€¦ 0.06s
  âœ“ organization id is automatically set on creation                     0.05s
  âœ“ global scope can be bypassed for admin queries                       0.05s
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Api\Accounting\JournalEntriesApiTest > it can creatâ€¦
  Expected response status code [201] but received 422.
Failed asserting that 422 is identical to 201.

The following errors occurred during the last request:

{
    "message": "The organization id field is required.",
    "errors": {
        "organization_id": [
            "The organization id field is required."
        ]
    }
}

  at tests/Feature/Api/Accounting/JournalEntriesApiTest.php:44
     40â–•         ];
     41â–•         $this->actingAs($this->user);
     42â–•         $response = $this->postJson('/api/journal-entries', $entryData);
     43â–•         // dd($response->json());
  âžœ  44â–•         $response->assertStatus(201)
     45â–•             ->assertJsonStructure([
     46â–•                 'data' => [
     47â–•                     'id',
     48â–•                     'reference_number',

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\OrganizationUnitApiTest > cannot assign user as nonâ€¦
  Expected response status code [403] but received 404.
Failed asserting that 404 is identical to 403.

  at tests/Feature/Api/Organization/OrganizationUnitApiTest.php:197
    193â–•                 'user_id' => $regularUser->id,
    194â–•                 'position' => 'Mermaid Trainer'
    195â–•             ]);
    196â–•
  âžœ 197â–•         $response->assertStatus(403);
    198â–•     }
    199â–•
    200â–•     #[Test]
    201â–•     public function cannot_create_unit_with_invalid_data()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\DashboardTest > it shows low stock alerts
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ErrorException: foreach() #80 {main}

----------------------------------------------------------------------------------

foreach() argument must be of type array|object, null given (View: /home/gg/dev/hrm-laravel-base/resources/views/dashboard.blade.php)

  at tests/Feature/DashboardTest.php:149
    145â–•         // dd([$store->items]);
    146â–•         $response = $this->actingAs($user)
    147â–•             ->get('/dashboard');
    148â–•         // dd($response);
  âžœ 149â–•         $response->assertStatus(200)
    150â–•             ->assertSee('Low Stock Alerts')
    151â–•             ->assertSee($lowStockItem->name);
    152â–•     }
    153â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\DashboardTest > it shows quick action buttons
  Expected: <!DOCTYPE html>\n
  <html lang="en">\n
  \n
  ... (557 more lines)

  To contain: Add Store

  at tests/Feature/DashboardTest.php:190
    186â–•         $response = $this->actingAs($user)
    187â–•             ->get('/dashboard');
    188â–•
    189â–•         $response->assertStatus(200)
  âžœ 190â–•             ->assertSee('Add Store')
    191â–•             ->assertSee('New Transaction')
    192â–•             ->assertSee('Add Item');
    193â–•     }
    194â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Portal\EmployeeManagementTest > employee creation râ€¦
  Failed asserting that two strings are equal.

The following errors occurred during the last request:

The position field is required.
The roles field is required.

  -'http://localhost:8000/login'
  +'http://localhost:8000'


  at tests/Feature/HR/EmployeeManagementTest.php:171
    167â–•         ];
    168â–•
    169â–•         $response = $this->post(route('hr.employees.store'), $employeeData);
    170â–•
  âžœ 171â–•         $response->assertRedirect('/login');
    172â–•     }
    173â–•
    174â–•     #[Test]
    175â–•     public function test_non_hr_users_cannot_create_employees()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Portal\EmployeeManagementTest > non hr users cannotâ€¦
  Expected response status code [403] but received 302.
Failed asserting that 302 is identical to 403.

The following errors occurred during the last request:

The position field is required.
The roles field is required.

  at tests/Feature/HR/EmployeeManagementTest.php:188
    184â–•         ];
    185â–•
    186â–•         $response = $this->post(route('hr.employees.store'), $employeeData);
    187â–•
  âžœ 188â–•         $response->assertStatus(403);
    189â–•     }
    190â–•
    191â–•     #[Test]
    192â–•     public function test_can_search_employees()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\HrmDashboardControllerTest > dashboard view containâ€¦
  Expected: <!-- resources/views/hrm/dashboard.blade.php -->\n
  <!DOCTYPE html>\n
  <html lang="en">\n
  ... (434 more lines)

  To contain: Attendance Overview

  at tests/Feature/HrmDashboardControllerTest.php:252
    248â–•         $response = $this->get(route('hrm.dashboard'));
    249â–•
    250â–•         $response->assertSee('HRM Dashboard');
    251â–•         $response->assertSee('Employee Summary');
  âžœ 252â–•         $response->assertSee('Attendance Overview');
    253â–•         $response->assertSee('Leave Management');
    254â–•         $response->assertSee('Performance KPIs');
    255â–•         $response->assertSee('Recent Activities');
    256â–•         $response->assertSee('OrganizationUnit Stats');

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Inventory\ItemTest > it returns 403 for unauthorizeâ€¦
  Expected response status code [403] but received 404.
Failed asserting that 404 is identical to 403.

  at tests/Feature/Inventory/ItemTest.php:326
    322â–•         $response = $this->actingAs($setupA['user'])
    323â–•             ->getJson("/api/inventory/items/{$itemB->id}/availability");
    324â–•         // dd($response->json());
    325â–•
  âžœ 326â–•         $response->assertStatus(403);
    327â–•     }
    328â–•
    329â–•     #[Test]
    330â–•     public function it_handles_item_with_no_stores()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Inventory\PermissionTest > user cannot access otherâ€¦
  Expected response status code [403] but received 404.
Failed asserting that 404 is identical to 403.

  at tests/Feature/Inventory/PermissionTest.php:96
     92â–•         // User from Org A tries to access Org B's store
     93â–•         Auth::logout();
     94â–•         $this->actingAs($setupA['user'])
     95â–•             ->getJson("/api/inventory/stores/{$storeB->id}")
  âžœ  96â–•             ->assertStatus(403);
     97â–•     }
     98â–• }
     99â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Livewire\Accounting\JournalEntriesTest > it createsâ€¦
  Failed asserting that a row in the table [journal_entries] matches the attributes {
    "entry_date": "2025-01-01",
    "description": "Test entry",
    "status": "posted"
}.

Found: [
    {
        "entry_date": "2025-01-01 00:00:00",
        "description": "Test entry",
        "status": "posted"
    }
].

  at tests/Feature/Livewire/Accounting/JournalEntriesTest.php:50
     46â–•             ->set('transactions.1.credit', 500);
     47â–•
     48â–•         $component->call('createEntry');
     49â–•
  âžœ  50â–•         $this->assertDatabaseHas('journal_entries', [
     51â–•             'entry_date' => '2025-01-01',
     52â–•             'description' => 'Test entry',
     53â–•             'status' => 'posted',
     54â–•         ]);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Livewire\Organization\OrganizationListTest > it shoâ€¦
  Expected: <div wire:snapshot="" wire:effects="" wire:id="sLucffb1kPAstby9zTCs">\n
      <!-- Header with Search and Actions -->\n
      <div class="flex flex-col sm:flex-row justify-between items-center mb-6 space-y-4 sm:space-y-0">\n
  ... (103 more lines)

  To contain: No organizations found

  at vendor/livewire/livewire/src/Features/SupportTesting/MakesAssertions.php:14
     10â–• {
     11â–•     function assertSee($values, $escape = true, $stripInitialData = true)
     12â–•     {
     13â–•         foreach (Arr::wrap($values) as $value) {
  âžœ  14â–•             PHPUnit::assertStringContainsString(
     15â–•                 $escape ? e($value): $value,
     16â–•                 $this->html($stripInitialData)
     17â–•             );
     18â–•         }

      [2m+1 vendor frames [22m
  2   tests/Feature/Livewire/Organization/OrganizationListTest.php:148

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Livewire\Organization\OrganizationTreeTest > an empâ€¦
  Failed asserting that 1 matches expected 0.

  at tests/Feature/Livewire/Organization/OrganizationTreeTest.php:125
    121â–•     #[Test]
    122â–•     public function an_empty_tree_renders_correctly()
    123â–•     {
    124â–•         // Arrange: No units in the database
  âžœ 125â–•         $this->assertEquals(0, OrganizationUnit::count());
    126â–•
    127â–•         // Act & Assert
    128â–•         Livewire::test(OrganizationTree::class)
    129â–•             ->assertSee('No organizational units found.');

  1   tests/Feature/Livewire/Organization/OrganizationTreeTest.php:125

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Livewire\Organization\OrganizationTreeTest > a dropâ€¦
  Failed asserting that 2 matches expected 1.

  at tests/Feature/Livewire/Organization/OrganizationTreeTest.php:155
    151â–•         Livewire::test(OrganizationTree::class)
    152â–•             ->call('updateParent', $nonExistentId, $targetId);
    153â–•
    154â–•         // Assert: The database state should be unchanged
  âžœ 155â–•         $this->assertEquals(1, OrganizationUnit::count());
    156â–•     }
    157â–• }
    158â–•

  1   tests/Feature/Livewire/Organization/OrganizationTreeTest.php:155

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  UserPlacementTest > it can unassign a user by dropping them ontoâ€¦
  Failed asserting that a row in the table [organization_user] matches the attributes {
    "user_id": 2,
    "organization_id": 2,
    "organization_unit_id": null
}.

Found similar results: [
    {
        "user_id": 2,
        "organization_id": 2,
        "organization_unit_id": 2
    },
    {
        "user_id": 2,
        "organization_id": 1,
        "organization_unit_id": null
    }
].

  at tests/Feature/Livewire/Organization/UserPlacementTest.php:65
     61â–•         Livewire::test(UserPlacement::class, ['organizationId' => $organization->id])
     62â–•             ->call('assignUserToUnit', $user->id, null);
     63â–•
     64â–•         // Assert
  âžœ  65â–•         $this->assertDatabaseHas('organization_user', [
     66â–•             'user_id' => $user->id,
     67â–•             'organization_id' => $organization->id,
     68â–•             'organization_unit_id' => null
     69â–•         ]);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Organization\OrganizationDashboardTest > authenticaâ€¦
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Call to undefined method App\Http\Controllers\OrganizationDashboardController::index() 70 {main}

----------------------------------------------------------------------------------

Call to undefined method App\Http\Controllers\OrganizationDashboardController::index()

  at tests/Feature/OrganizationDashboardTest.php:35
     31â–•     {
     32â–•         $response = $this->actingAs($this->user)
     33â–•             ->get(route('organization.dashboard'));
     34â–•
  âžœ  35â–•         $response->assertStatus(200);
     36â–•         $response->assertSee('Organization Management');
     37â–•     }
     38â–•
     39â–•     #[Test]    public function dashboard_displays_correct_organization_metrics()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Organization\OrganizationDashboardTest > dashboardâ€¦
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Call to undefined method App\Http\Controllers\OrganizationDashboardController::index()
#70 {main}

----------------------------------------------------------------------------------

Call to undefined method App\Http\Controllers\OrganizationDashboardController::index()

  at tests/Feature/OrganizationDashboardTest.php:54
     50â–•
     51â–•         $response = $this->actingAs($this->user)
     52â–•             ->get(route('organization.dashboard'));
     53â–•
  âžœ  54â–•         $response->assertStatus(200);
     55â–•         $response->assertSee('Total Employees');
     56â–•         $response->assertSee('Departments');
     57â–•     }
     58â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Organization\OrganizationDaâ€¦  RouteNotFoundException
  Route [organization.structure] not defined.

  at vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:526
    522â–•             ! is_null($url = call_user_func($this->missingNamedRouteResolver, $name, $parameters, $absolute))) {
    523â–•             return $url;
    524â–•         }
    525â–•
  âžœ 526â–•         throw new RouteNotFoundException("Route [{$name}] not defined.");
    527â–•     }
    528â–•
    529â–•     /**
    530â–•      * Get the URL for a given route instance.

      [2m+2 vendor frames [22m
  3   tests/Feature/OrganizationDashboardTest.php:72

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Organization\OrganizationDashboardTest > dashboardâ€¦
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Call to undefined method App\Http\Controllers\OrganizationDashboardController::index()
#70 {main}

----------------------------------------------------------------------------------

Call to undefined method App\Http\Controllers\OrganizationDashboardController::index()

  at tests/Feature/OrganizationDashboardTest.php:98
     94â–•
     95â–•         $response = $this->actingAs($this->user)
     96â–•             ->get(route('organization.dashboard'));
     97â–•
  âžœ  98â–•         $response->assertStatus(200);
     99â–•         foreach ($departments as $dept) {
    100â–•             $response->assertSee($dept);
    101â–•         }
    102â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Organization\OrganizationDaâ€¦  RouteNotFoundException
  Route [organization.analytics] not defined.

  at vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:526
    522â–•             ! is_null($url = call_user_func($this->missingNamedRouteResolver, $name, $parameters, $absolute))) {
    523â–•             return $url;
    524â–•         }
    525â–•
  âžœ 526â–•         throw new RouteNotFoundException("Route [{$name}] not defined.");
    527â–•     }
    528â–•
    529â–•     /**
    530â–•      * Get the URL for a given route instance.

      [2m+2 vendor frames [22m
  3   tests/Feature/OrganizationDashboardTest.php:107

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Portal\OrganizationUserIntegrationTest > organizatiâ€¦
  Failed asserting that an array contains 'employee'.

  at tests/Feature/OrganizationUserIntegrationTest.php:62
     58â–•     {
     59â–•         $orgUser = OrganizationUser::first();
     60â–•
     61â–•         $this->assertIsArray($orgUser->roles);
  âžœ  62â–•         $this->assertContains('employee', $orgUser->roles);
     63â–•     }
     64â–•
     65â–•     #[Test]
     66â–•     public function employee_can_access_employee_portal_with_employee_role()

  1   tests/Feature/OrganizationUserIntegrationTest.php:62

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Portal\Organizaâ€¦  UniqueConstraintViolationException
  SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: organizations.name (Connection: sqlite, SQL: insert into "organizations" ("name", "description", "is_active", "created_at", "updated_at") values (Watsica Inc, Cumque asperiores ducimus sint id. Magni rerum ea cupiditate fugiat numquam voluptas voluptate. Vel eligendi nulla qui nihil enim non atque., 1, 2025-11-13 18:10:30, 2025-11-13 18:10:30))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:570
    566â–•             $this->bindValues($statement, $this->prepareBindings($bindings));
    567â–•
    568â–•             $this->recordsHaveBeenModified();
    569â–•
  âžœ 570â–•             return $statement->execute();
    571â–•         });
    572â–•     }
    573â–•
    574â–•     /**

      [2m+15 vendor frames [22m
  16  tests/Feature/OrganizationUserIntegrationTest.php:27

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Portal\OrganizationUserIntegrationTest > user withoâ€¦
  Expected response status code [403] but received 302.
Failed asserting that 302 is identical to 403.

  at tests/Feature/OrganizationUserIntegrationTest.php:103
     99â–•
    100â–•         $response = $this->actingAs($user)
    101â–•             ->get(route('portal.employee.dashboard'));
    102â–•
  âžœ 103â–•         $response->assertStatus(403);
    104â–•     }
    105â–•
    106â–•     #[Test]
    107â–•     public function employee_cannot_access_manager_portal()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Portal\OrganizationUserIntegrationTest > employee câ€¦
  Expected response status code [403] but received 200.
Failed asserting that 200 is identical to 403.

  at tests/Feature/OrganizationUserIntegrationTest.php:116
    112â–•
    113â–•         $response = $this //->actingAs($this->employee)
    114â–•             ->get(route('portal.manager.dashboard'));
    115â–•
  âžœ 116â–•         $response->assertStatus(403);
    117â–•     }
    118â–•
    119â–•     #[Test]
    120â–•     public function hasRole_method_works_correctly()

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Portal\OrganizationUserIntegrationTest > has role mâ€¦
  Failed asserting that false is true.

  at tests/Feature/OrganizationUserIntegrationTest.php:125
    121â–•     {
    122â–•         $orgUser = OrganizationUser::where('user_id', $this->manager->id)->first();
    123â–•
    124â–•         $this->assertTrue($orgUser->hasRole('manager'));
  âžœ 125â–•         $this->assertTrue($orgUser->hasRole('employee'));
    126â–•         $this->assertFalse($orgUser->hasRole('hr'));
    127â–•     }
    128â–•
    129â–•     #[Test]

  1   tests/Feature/OrganizationUserIntegrationTest.php:125

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Portal\OrganizationUserIntegrationTest > has any roâ€¦
  Failed asserting that false is true.

  at tests/Feature/OrganizationUserIntegrationTest.php:134
    130â–•     public function hasAnyRole_method_works_correctly()
    131â–•     {
    132â–•         $orgUser = OrganizationUser::where('user_id', $this->hrUser->id)->first();
    133â–•
  âžœ 134â–•         $this->assertTrue($orgUser->hasAnyRole(['hr', 'admin']));
    135â–•         $this->assertTrue($orgUser->hasAnyRole(['manager', 'employee']));
    136â–•         $this->assertFalse($orgUser->hasAnyRole(['admin', 'super_admin']));
    137â–•     }
    138â–• }

  1   tests/Feature/OrganizationUserIntegrationTest.php:134

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Portal\EmployeePortalTest > employee can clock in aâ€¦
  Expected response status code [200] but received 302.
Failed asserting that 302 is identical to 200.

  at tests/Feature/Portal/EmployeePortalTest.php:119
    115â–•     {
    116â–•         $response = $this //->actingAs($this->employee)
    117â–•             ->post(route('portal.employee.clock-in'));
    118â–•
  âžœ 119â–•         $response->assertStatus(200);
    120â–•         $this->assertDatabaseHas('attendance_records', [
    121â–•             'employee_id' => $this->employee->id,
    122â–•             'type' => 'clock_in'
    123â–•         ]);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Portal\ManagerPortalTest > manager can approve leavâ€¦
  Expected response status code [200] but received 403.
Failed asserting that 403 is identical to 200.

  at tests/Feature/Portal/ManagerPortalTest.php:65
     61â–•
     62â–•         $response = $this //->actingAs($this->manager)
     63â–•             ->post(route('portal.manager.leave.approve', $leaveRequest->id));
     64â–•
  âžœ  65â–•         $response->assertStatus(200);
     66â–•         $this->assertDatabaseHas('leave_requests', [
     67â–•             'id' => $leaveRequest->id,
     68â–•             'status' => 'approved'
     69â–•         ]);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FAILED  Tests\Feature\Portal\ManagerPortalTest >â€¦   RouteNotFoundException
  Route [portal.manager.team-report] not defined.

  at vendor/laravel/framework/src/Illuminate/Routing/UrlGenerator.php:526
    522â–•             ! is_null($url = call_user_func($this->missingNamedRouteResolver, $name, $parameters, $absolute))) {
    523â–•             return $url;
    524â–•         }
    525â–•
  âžœ 526â–•         throw new RouteNotFoundException("Route [{$name}] not defined.");
    527â–•     }
    528â–•
    529â–•     /**
    530â–•      * Get the URL for a given route instance.

      [2m+2 vendor frames [22m
  3   tests/Feature/Portal/ManagerPortalTest.php:82


  Tests:    28 failed, 10 risky, 4 skipped, 321 passed (1203 assertions)
  Duration: 20.51s

